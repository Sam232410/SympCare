<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CBC Analysis - Sympcare</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: "Poppins", Arial, sans-serif;
      background: radial-gradient(circle at top left, #0b0a23, #0b0a23 70%, #121040 100%);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      overflow: hidden;
      position: relative;
    }

    .dna-bg {
      position: fixed;
      top: 12%;
      left: 50%;
      width: 1800px;
      opacity: 0.12;
      transform: translate(-50%, -50%);
      z-index: -2;
      filter: drop-shadow(0 0 35px rgba(109,166,255,0.6));
      pointer-events: none;
    }

    .content {
      text-align: center;
      background: rgba(255,255,255,0.05);
      padding: 40px 30px;
      border-radius: 16px;
      border: 1px solid rgba(109,166,255,0.25);
      backdrop-filter: blur(12px);
      box-shadow: 0 0 25px rgba(109,166,255,0.25);
      max-width: 520px;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 10px;
      color: #6da6ff;
    }

    .result {
      font-size: 1.3rem;
      font-weight: 600;
      margin-top: 12px;
    }

    .confidence {
      font-size: 1rem;
      margin-top: 8px;
      color: #cfe0ff;
    }

    .advice {
      margin-top: 16px;
      font-size: 1rem;
      color: #ffd27d;
    }

    .back-link {
      display: inline-block;
      margin-top: 18px;
      font-size: 0.95rem;
      color: #9fbfff;
      text-decoration: none;
    }
  </style>
</head>

<body>

<img src="{{ url_for('static', filename='images/bg2.png') }}" class="dna-bg" alt="DNA">

<div class="content">
  <h1>CBC Analysis</h1>

  <div id="resultText" class="result">Analyzing...</div>
  <div id="confidenceText" class="confidence"></div>
  <div id="adviceText" class="advice"></div>

  <a href="/" class="back-link">‚Üê Back to Home</a>
</div>

<script>
  const analysis = JSON.parse(sessionStorage.getItem("analysis"));

  if (!analysis) {
    document.getElementById("resultText").innerText =
      "No analysis data found";
  } else {
    document.getElementById("resultText").innerText =
      analysis.screening_result;

    document.getElementById("confidenceText").innerText =
      "Confidence: " + analysis.confidence + "%";

    if (
      analysis.screening_result === "No Conclusive Screening" ||
      analysis.confidence < 55
    ) {
      document.getElementById("adviceText").innerText =
        "Consult a qualified physician for further evaluation.";
    } else {
      document.getElementById("adviceText").innerText =
        "Screening result based on CBC pattern analysis.";
    }
  }
</script>

</body>
</html>
